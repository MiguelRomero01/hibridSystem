<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Contraseñas Guardadas</title>
    <link rel="stylesheet" href="../home/navbar.css" />
    <link rel="stylesheet" href="contraseñas.css" />
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bcryptjs/2.4.3/bcrypt.min.js"></script>
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar">
        <div class="logo">PasswordCheck</div>
        <ul class="nav-links">
            <li><a href="../InfoPsw/safeguard.html">Inicio</a></li>
            <li><a href="contraseñas.html">Contraseñas</a></li>
            <li><a href="#">Contacto</a></li>
        </ul>
    </nav>

    <h1>Contraseñas Guardadas</h1>

    <div class="container">
        <p>Aquí están las contraseñas guardadas:</p>
        <ul>
            <li onclick="showMasterPasswordDialog()">Contraseña 1</li>
            <li onclick="showMasterPasswordDialog()">Contraseña 2</li>
            <li onclick="showMasterPasswordDialog()">Contraseña 3</li>
        </ul>
    </div>

    <!-- Capa de fondo -->
    <div id="overlay" onclick="hideMasterPasswordDialog()"></div>

    <!-- Cuadro de diálogo para la contraseña maestra -->
    <div id="master-password-dialog" class="dialog">
        <form id="master-password-form">
            <label for="master-password">Ingresa la contraseña maestra:</label><br />
            <input type="password" id="master-password" name="master-password" required /><br /><br />
            <button type="button" id="verify-password-btn">Verificar contraseña</button>
        </form>
    </div>

    <script>
        
    setTimeout(() => {
        console.log("bcrypt:", typeof bcrypt);
    }, 2000); // Espera 2 segundos para verificar


        //muestra un cuadro de dialogo para poner la contraseña
        function showMasterPasswordDialog() {
            document.getElementById('overlay').style.display = 'block';
            document.getElementById('master-password-dialog').style.display = 'block';
        }

        //oculta el cuadro de dialogo
        function hideMasterPasswordDialog() {
            document.getElementById('overlay').style.display = 'none';
            document.getElementById('master-password-dialog').style.display = 'none';
        }

        //IMPORTANTE: esto debe ir en el contraseñas.js dado que ahi está la conexion con la base de datos y se debe verificar
        // function verifyMasterPassword() {
        //     var masterPassword = document.getElementById('master-password').value;
        //     // Aquí iría la lógica para verificar la contraseña maestra
        //     alert('Contraseña maestra verificada: ' + masterPassword);
        //     hideMasterPasswordDialog();
        // }
    </script>

    <script src="contraseñas.js" type="module"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bcryptjs/2.4.3/bcrypt.min.js"></script>

</body>
</html>
